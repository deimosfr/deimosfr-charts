repos:
  - repo: https://github.com/norwoodj/helm-docs
    rev: v1.11.0
    hooks:
      - id: helm-docs
        files: (Chart|values|README)\.(yaml|yml|gotmpl|md)$
  - repo: local
    hooks:
      - id: helm-schema
        name: Helm Schema Generator
        entry: ./scripts/helm-schema.sh
        language: system
        files: charts/.*/values\.yaml$
  - repo: https://github.com/gruntwork-io/pre-commit
    rev: v0.1.22
    hooks:
      - id: helmlint
        # args: ["--strict"] # Not supported by the underlying script? verification needed, but removing to fix realpath error for now.
  - repo: local
    hooks:
      - id: check-chart-metadata
        name: Check Chart Metadata (Icon, Verified Publisher)
        entry: ./scripts/check-chart-metadata.sh
        language: system
        files: Chart.yaml
  - repo: local
    hooks:
      - id: kube-linter
        name: KubeLinter
        entry: kube-linter lint --config .kube-linter.yaml charts/
        language: system
        pass_filenames: false
        files: ^charts/
